<div class="modal-header">
    <button type="button" class="close job_header" ng-click="joblistCtrl.cancel()">&times;</button>
    <h4 class="job_header">Job Information</h4>
</div>
<div class="modal-body" id="modal-body">
    <section class="panel">
        <header class="panel-heading">
            <h2 class="panel-title">Job Details</h2>
        </header>
        <div class="panel-body">
            <div class="form-group" ng-style="border">
                <label class="col-md-3 control-label">Title</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.title}}</span>
                <label class="col-md-3 control-label">Current Status</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.current_status}}</span>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label">Created Date</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.created_datetime | date:'medium'}}</span>
                <label class="col-md-3 control-label">Updated Date</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.updated_datetime | date:'medium'}}</span>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label">Scheduled As</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.schedule}}</span>
                <label class="col-md-3 control-label">Scheduled Date</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.scheduled_datetime | date:'medium'}}</span>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label">Category</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.category_l1}}</span>
                <label class="col-md-3 control-label">Sub-Category</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.category_l2}}</span>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label">Total Mileage</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.mileage}}</span>
                <label class="col-md-3 control-label">Total Time</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.time}}</span>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label">Address</label>
                <span class="col-md-9 control-label ng-binding">{{joblistCtrl.current_job.address.street_address}}</span>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label">Description</label>
                <span class="col-md-9 control-label ng-binding">{{joblistCtrl.current_job.description}}</span>
            </div>
        </div>
    </section>
    <section class="panel">
        <header class="panel-heading">
            <h2 class="panel-title">Customer Details</h2>
        </header>
        <div class="panel-body">
            <div class="form-group">
                <label class="col-md-3 control-label">Customer</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.customer.full_name}}</span>
                <label class="col-md-3 control-label">Company</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.customer.company_name}}</span>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label">Email</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.customer.email}}</span>
                <label class="col-md-3 control-label">Mobile Number</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.customer.mobile_number}}</span>
            </div>
        </div>
    </section>
    <section class="panel" ng-if="joblistCtrl.isCustomerEquipmentExist()">
        <header class="panel-heading">
            <h2 class="panel-title">Customer Equipment Details</h2>
        </header>
        <div class="panel-body">
            <div class="form-group">
                <label class="col-md-3 control-label">Name</label>
                <span class="col-md-3 control-label ng-binding"></span>
                <label class="col-md-3 control-label">Type</label>
                <span class="col-md-3 control-label ng-binding"></span>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label">Model</label>
                <span class="col-md-3 control-label ng-binding"></span>
                <label class="col-md-3 control-label">Registration Number</label>
                <span class="col-md-3 control-label ng-binding"></span>
            </div>
        </div>
    </section>
    <section class="panel">
        <header class="panel-heading">
            <h2 class="panel-title">Engineer Details</h2>
        </header>
        <div class="panel-body">
            <div class="form-group">
                <label class="col-md-3 control-label">Name</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.engineers[0].full_name}}</span>
                <label class="col-md-3 control-label">Company</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.engineers[0].company_name}}</span>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label">Email</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.engineers[0].email}}</span>
                <label class="col-md-3 control-label">Mobile Number</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.engineers[0].mobile_number}}</span>
            </div>
        </div>
    </section>
    <section class="panel">
        <header class="panel-heading">
            <h2 class="panel-title">Engineer Work Item Details</h2>
        </header>
        <div class="panel-body">
            <div class="table-responsive">
                <table class="table table-bordered table-striped table-hover table-condensed mb-none dataTable no-footer" role="grid">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Name</th>
                            <th>Cost</th>
                            <th>Updated By</th>
                            <th>Image</th>
                        </tr>
                    </thead>
                    <tbody class="gradeX">
                        <tr ng-repeat="item in joblistCtrl.current_job.work_items">
                            <td>{{item.datetime | date:'medium'}}</td>
                            <td>{{item.name}}</td>
                            <td>{{item.cost}}</td>
                            <td>{{item.updated_by | date:'medium'}}</td>
                            <td><img ng-src="{{item.image_path}}"></img>
                            </td>
                        </tr>
                        <!-- ngRepeat: item in showjobCtrl.selectedJob.work_items -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>
    <section class="panel">
        <header class="panel-heading">
            <h2 class="panel-title">Sign-off Details</h2>
        </header>
        <div class="panel-body">
            <div class="form-group">
                <label class="col-md-3 control-label">Title</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.signoff.title}}</span>
                <label class="col-md-3 control-label">Position</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.signoff.designation}}</span>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label">Sign-off Date</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.signoff.datetime | date:'medium'}}</span>
                <label class="col-md-3 control-label">Update By</label>
                <span class="col-md-3 control-label ng-binding">{{joblistCtrl.current_job.signoff.updated_by | date:'medium'}}</span>
            </div>
            <div class="form-group">
                <label class="col-md-3 control-label">Image</label>
                <img ng-src="{{ joblistCtrl.current_job.signoff.image_path }}"></img>
            </div>
        </div>
    </section>
    <section class="panel">
        <header class="panel-heading">
            <h2 class="panel-title">Images</h2>
        </header>
        <div class="panel-body">
            <carousel links="joblistCtrl.current_job.images"></carousel>
        </div>
    </section>
    <section class="panel">
        <header class="panel-heading">
            <h2 class="panel-title">Change History</h2>
        </header>
        <div class="panel-body">
            <div class="table-responsive">
                <table class="table table-bordered table-striped table-hover table-condensed mb-none dataTable no-footer" role="grid">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Type</th>
                            <th>Details</th>
                            <th>Updated By</th>
                        </tr>
                    </thead>
                    <tbody class="gradeX">
                        <tr ng-repeat="history in joblistCtrl.current_job.history">
                            <td>{{history.datetime | date:'medium'}}</td>
                            <td>{{history.changetype}}</td>
                            <td>{{history.details}}</td>
                            <td>{{history.updated_by | date:'medium'}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </section>
</div>
<div class="modal-footer">
    <button class="btn btn-primary" type="button" ng-click="joblistCtrl.ok()">OK</button>
    <button class="btn btn-warning" type="button" ng-click="joblistCtrl.cancel()">Cancel</button>
</div>